<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Business Archetype - The Aligned Visibility Quiz</title>
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;500;600;700&family=Oswald:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Open Sans', sans-serif;
            background: #f8f9fa;
            min-height: 100vh;
            color: #37474f;
            line-height: 1.6;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 0;
            animation: fadeInDown 0.8s ease-out;
            position: relative;
        }
        
        .banner {
            width: 100%;
            height: 300px;
            margin: 0;
            border-radius: 0;
            overflow: hidden;
            box-shadow: none;
            position: relative;
            background: linear-gradient(rgba(96, 125, 139, 0.7), rgba(84, 110, 122, 0.7));
        }
        
        .banner img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            opacity: 0.8;
        }
        
        .logo-overlay {
            position: absolute;
            bottom: -40px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 80px;
            background: white;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 10;
            animation: fadeInUp 0.8s ease-out 0.4s both;
        }
        
        .logo-overlay img {
            width: 80%;
            height: 80%;
            object-fit: contain;
        }
        
        .results {
            background: white;
            border-radius: 0;
            padding: 80px 60px 60px;
            margin: 0;
            max-width: 900px;
            margin: 0 auto;
            box-shadow: none;
            animation: fadeInUp 0.8s ease-out 0.2s both;
            position: relative;
        }
        
        h1 {
            font-family: 'Oswald', sans-serif;
            font-size: 3em;
            font-weight: 700;
            color: #607d8b;
            margin-bottom: 20px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 2px;
        }
        
        .archetype-name {
            font-family: 'Oswald', sans-serif;
            font-size: 3.5em;
            font-weight: 700;
            color: #546e7a;
            margin-bottom: 30px;
            text-align: center;
            text-transform: uppercase;
            letter-spacing: 3px;
        }
        
        .archetype-image {
            text-align: center;
            margin: 30px 0;
        }
        
        .archetype-image img {
            max-width: 300px;
            width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }
        
        .archetype-description {
            text-align: center;
            color: #546e7a;
            font-size: 1.2em;
            line-height: 1.8;
            margin-bottom: 40px;
            font-weight: 400;
        }
        
        .traits-section {
            margin: 50px 0;
        }
        
        .section-title {
            font-family: 'Oswald', sans-serif;
            color: #607d8b;
            font-size: 1.8em;
            text-align: center;
            margin-bottom: 30px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .traits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .trait-item {
            background: #eceff1;
            padding: 20px;
            border-radius: 4px;
            border-left: 4px solid #607d8b;
            color: #546e7a;
            font-weight: 500;
        }
        
        .next-steps {
            background: #f8f9fa;
            padding: 40px;
            border-radius: 4px;
            border-left: 4px solid #607d8b;
            margin: 40px 0;
        }
        
        .next-steps h3 {
            font-family: 'Oswald', sans-serif;
            color: #607d8b;
            font-size: 1.5em;
            margin-bottom: 20px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .next-steps p {
            color: #546e7a;
            font-size: 1.1em;
            line-height: 1.7;
        }
        
        .action-buttons {
            text-align: center;
            margin: 50px 0;
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            justify-content: center;
        }
        
        .action-button {
            display: inline-block;
            padding: 15px 35px;
            background: #607d8b;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            font-family: 'Oswald', sans-serif;
            font-size: 1.1em;
            font-weight: 600;
            box-shadow: 0 4px 12px rgba(96, 125, 139, 0.3);
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            cursor: pointer;
            border: none;
        }
        
        .action-button:hover {
            background: #546e7a;
            box-shadow: 0 6px 16px rgba(96, 125, 139, 0.4);
        }
        
        .action-button.secondary {
            background: transparent;
            color: #607d8b;
            border: 2px solid #607d8b;
        }
        
        .action-button.secondary:hover {
            background: #607d8b;
            color: white;
        }
        
        footer {
            text-align: center;
            padding: 40px 20px;
            color: #78909c;
            background: #eceff1;
            margin-top: 60px;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .loading {
            text-align: center;
            padding: 100px 20px;
            color: #78909c;
            font-size: 1.2em;
        }
        
        .error {
            text-align: center;
            padding: 100px 20px;
            color: #d32f2f;
            font-size: 1.2em;
        }
        
        @media (max-width: 768px) {
            .archetype-name {
                font-size: 2.5em;
            }
            
            h1 {
                font-size: 2em;
            }
            
            .results {
                padding: 60px 20px 40px;
                margin-top: 60px;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .action-button {
                width: 100%;
                max-width: 300px;
            }
            
            .logo-overlay {
                left: 50%;
                transform: translateX(-50%);
                width: 70px;
                height: 70px;
                bottom: -35px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="banner">
                <img src="sgm-archetype-quiz-banner.jpg" alt="The Aligned Visibility Quiz - Woman in peaceful meditation">
            </div>
            <div class="logo-overlay">
                <img src="Beige-and-White-Aesthetic-Minimalist-Modern-Typography-Beauty-Brand-Logo.png" alt="The Aligned Visibility Quiz Logo">
            </div>
        </header>
        
        <main class="results">
            <div id="loading" class="loading">
                <p>Calculating your archetype...</p>
            </div>
            
            <div id="error" class="error" style="display: none;">
                <p>Unable to determine your archetype. Please retake the quiz.</p>
                <div class="action-buttons">
                    <a href="quiz.html" class="action-button">Retake Quiz</a>
                </div>
            </div>
            
            <div id="results-content" style="display: none;">
                <h1>Your Business Archetype</h1>
                <div class="archetype-name" id="archetype-name"></div>
                
                <div class="archetype-image">
                    <img id="archetype-image" src="" alt="Your Archetype">
                </div>
                
                <div class="archetype-description">
                    <p id="archetype-description"></p>
                </div>
                
                
                <div class="next-steps">
                    <h3>Your Next Steps</h3>
                    <p id="next-steps-content"></p>
                </div>
                
                <form class="contact-form" id="contact-form">
                    <input type="hidden" id="form-archetype" />
                    <input type="hidden" id="form-quiz-responses" />
                    
                    <h3 style="font-family: 'Oswald', sans-serif; color: #607d8b; text-align: center; margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px;">Want to learn more?</h3>
                    
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label for="name" style="display: block; margin-bottom: 8px; color: #546e7a; font-weight: 500;">Name</label>
                        <input type="text" id="name" name="name" required style="width: 100%; padding: 12px; border: 2px solid #cfd8dc; border-radius: 4px; font-size: 1em; font-family: 'Open Sans', sans-serif;" />
                    </div>
                    
                    <div class="form-group" style="margin-bottom: 30px;">
                        <label for="email" style="display: block; margin-bottom: 8px; color: #546e7a; font-weight: 500;">Email</label>
                        <input type="email" id="email" name="email" required style="width: 100%; padding: 12px; border: 2px solid #cfd8dc; border-radius: 4px; font-size: 1em; font-family: 'Open Sans', sans-serif;" />
                    </div>
                    
                    <div style="text-align: center;">
                        <button type="submit" class="action-button" style="margin: 0;">I want to learn more</button>
                    </div>
                    
                    <div style="text-align: center; margin-top: 20px;">
                        <a href="quiz.html" style="color: #78909c; text-decoration: underline; font-size: 0.9em;">Retake Quiz</a>
                    </div>
                </form>
            </div>
        </main>
        
        <footer>
            <p>Created with 💜 for moms & soulful creators</p>
            <p style="font-size: 0.9em; margin-top: 10px;">© 2024 The Aligned Visibility Quiz. All rights reserved.</p>
        </footer>
    </div>

    <script>
        // Archetype data definitions
        const archetypeData = {
            "The Muse": {
                description: "You are The Muse - a visionary who values beauty, aesthetics, and maintaining balance between your business dreams and family life.",
                traits: [
                    "Keywords: Soft, intuitive, creative, thoughtful, reserved, empathic",
                    "You may see yourself as: Calm, reflective, unsure how to take up space",
                    "You want to be seen as: Empowered, expressed, magnetic"
                ],
                nextSteps: "Want to know what's blocking your success and exactly what you need to break through? Enter your email below to get your complete archetype breakdown with personalized next steps!",
                image: "muse-archetype.jpg"
            },
            "The Stylist": {
                description: "You are The Stylist - a creative entrepreneur with many ideas who needs focus and consistency to truly flourish.",
                traits: [
                    "Keywords: Creative, idea-driven, scattered, soulful, passionate",
                    "You may see yourself as: Inspired but overwhelmed",
                    "You want to be seen as: Clear, capable, influential"
                ],
                nextSteps: "Want to know what's blocking your success and exactly what you need to break through? Enter your email below to get your complete archetype breakdown with personalized next steps!",
                image: "stylist-archetype.jpg"
            },
            "The Editor": {
                description: "You are The Editor - a warm, supportive entrepreneur who prefers to work behind the scenes but has valuable expertise to share.",
                traits: [
                    "Keywords: Warm, supportive, community-driven, nurturing",
                    "You may see yourself as: Grounded but behind the scenes",
                    "You want to be seen as: Trusted, magnetic, real"
                ],
                nextSteps: "Want to know what's blocking your success and exactly what you need to break through? Enter your email below to get your complete archetype breakdown with personalized next steps!",
                image: "editor-archetype.jpg"
            },
            "The Supermodel": {
                description: "You are The Supermodel - a confident, driven entrepreneur who excels in many areas but may feel disconnected from authenticity.",
                traits: [
                    "Keywords: Confident, direct, bold, high standards, no-nonsense",
                    "You may see yourself as: Determined, clear, driven",
                    "You want to be seen as: Powerful, polished, already \"there\""
                ],
                nextSteps: "Want to know what's blocking your success and exactly what you need to break through? Enter your email below to get your complete archetype breakdown with personalized next steps!",
                image: "supermodel-archetype.jpg"
            }
        };

        // Get archetype from URL parameters
        function getArchetypeFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('archetype');
        }

        // Display results based on archetype
        function displayResults() {
            const archetype = getArchetypeFromURL();
            
            if (!archetype || !archetypeData[archetype]) {
                // Show error if no valid archetype found
                document.getElementById('loading').style.display = 'none';
                document.getElementById('error').style.display = 'block';
                return;
            }

            const data = archetypeData[archetype];
            
            // Hide loading and show results
            document.getElementById('loading').style.display = 'none';
            document.getElementById('results-content').style.display = 'block';
            
            // Populate content
            document.getElementById('archetype-name').textContent = archetype;
            document.getElementById('archetype-description').textContent = data.description;
            document.getElementById('archetype-image').src = data.image;
            document.getElementById('archetype-image').alt = archetype + ' Archetype';
            document.getElementById('next-steps-content').textContent = data.nextSteps;
            
            
            // Populate hidden form fields
            document.getElementById('form-archetype').value = archetype;
            
            // Get quiz responses from URL if available, or use current archetype
            const urlParams = new URLSearchParams(window.location.search);
            const responsesParam = urlParams.get('responses');
            let responsesData = `Archetype Result: ${archetype}`;
            
            if (responsesParam) {
                try {
                    const parsedResponses = JSON.parse(decodeURIComponent(responsesParam));
                    responsesData = `Quiz Results:
Archetype: ${parsedResponses.archetype}
Q1 (Support type): ${parsedResponses.q1}
Q2 (Confidence area): ${parsedResponses.q2}
Q3 (Business stage): ${parsedResponses.q3}
Q4 (Challenges): ${Array.isArray(parsedResponses.q4) ? parsedResponses.q4.join(', ') : parsedResponses.q4}
Q5 (Desired image): ${parsedResponses.q5}
Q6 (Beauty guidance): ${parsedResponses.q6}
Completed: ${new Date(parsedResponses.timestamp).toLocaleString()}`;
                } catch (e) {
                    console.log('Could not parse responses data');
                }
            }
            
            document.getElementById('form-quiz-responses').value = responsesData;
        }

        // Initialize EmailJS
        (function() {
            emailjs.init("z9KJSmqcfXbX2hjR9"); // Replace with your EmailJS public key
        })();

        // Handle form submission
        document.getElementById('contact-form').addEventListener('submit', function(event) {
            event.preventDefault();
            
            const submitButton = event.target.querySelector('button[type="submit"]');
            const originalText = submitButton.textContent;
            submitButton.textContent = 'Sending...';
            submitButton.disabled = true;
            
            // Get archetype and user data
            const archetype = document.getElementById('form-archetype').value;
            const userName = document.getElementById('name').value;
            const userEmail = document.getElementById('email').value;
            const quizResponses = document.getElementById('form-quiz-responses').value;
            
            // Define archetype-specific content
            const archetypeContent = {
                "The Muse": {
                    image: "muse-archetype.jpg",
                    description: "You are The Muse - a visionary who values beauty, aesthetics, and maintaining balance between your business dreams and family life. You feel drawn to create something meaningful while staying true to your nurturing nature.",
                    keywords: "Soft, intuitive, creative, thoughtful, reserved, empathic",
                    self_perception: "Calm, reflective, unsure how to take up space",
                    desired_perception: "Empowered, expressed, magnetic",
                    struggles: "Owning her voice, putting herself out there, visibility",
                    beauty_vibe: "Minimal, ethereal, hesitant to take up too much room",
                    business_block: "Overthinking, perfectionism, waiting for permission",
                    next_steps: "Gentle structure, permission to be bold, beauty rituals that energize. Focus on creating simple systems that support both your business growth and life balance. Start with one small, beautiful step each day and build sustainable routines that honor your energy and family commitments.",
                    cta_message: "Ready to embrace your Muse energy and build a business that flows with your natural rhythm? I'd love to help you create gentle structure and give you permission to shine."
                },
                "The Stylist": {
                    image: "stylist-archetype.jpg",
                    description: "You are The Stylist - a creative entrepreneur with many ideas who needs focus and consistency to truly flourish. Your creative energy is powerful, but it needs better structure to reach its full potential.",
                    keywords: "Creative, idea-driven, scattered, soulful, passionate",
                    self_perception: "Inspired but overwhelmed",
                    desired_perception: "Clear, capable, influential",
                    struggles: "Focus, translating ideas into action, presenting herself clearly",
                    beauty_vibe: "Playful, experimental, inconsistent",
                    business_block: "Too many ideas, unclear offers, chaotic messaging",
                    next_steps: "Simplified brand story, visual consistency, a signature look or message. Focus on creating structured routines that support your creative flow. Consider streamlining your offers and developing a consistent visual identity that reflects your creative essence while maintaining professional clarity.",
                    cta_message: "Ready to channel your creative energy into clear, consistent action? I'd love to help you simplify your brand story and create visual consistency."
                },
                "The Editor": {
                    image: "editor-archetype.jpg",
                    description: "You are The Editor - a warm, supportive entrepreneur who prefers to work behind the scenes but has valuable expertise to share. Your nurturing nature and community focus are your greatest strengths.",
                    keywords: "Warm, supportive, community-driven, nurturing",
                    self_perception: "Grounded but behind the scenes",
                    desired_perception: "Trusted, magnetic, real",
                    struggles: "Charging what she's worth, stepping into expert role",
                    beauty_vibe: "Natural, relatable, a little muted",
                    business_block: "Boundaries, confidence in leadership",
                    next_steps: "Messaging rooted in service, soft power visibility strategy, embodiment. Focus on sharing your expertise in small, comfortable ways while building confidence through celebrating small wins. Your natural ability to support others is a gift - learn to value and price it accordingly.",
                    cta_message: "Ready to step into your expert role with confidence and set boundaries that honor your worth? I'd love to help you develop messaging rooted in service and a visibility strategy that feels authentic."
                },
                "The Supermodel": {
                    image: "supermodel-archetype.jpg",
                    description: "You are The Supermodel - a confident, driven entrepreneur who excels in many areas but may feel disconnected from authenticity. Your high standards and no-nonsense approach are powerful assets when aligned with your true values.",
                    keywords: "Confident, direct, bold, high standards, no-nonsense",
                    self_perception: "Determined, clear, driven",
                    desired_perception: "Powerful, polished, already there",
                    struggles: "Vulnerability, translating her inner power to outer clarity",
                    beauty_vibe: "Intentional, sleek, high impact—but might feel disconnected from authenticity",
                    business_block: "Brand feels flat or misaligned, trying to look the part instead of being it",
                    next_steps: "Grounded reconnection to values, messaging that matches her real energy, permission to soften or expand. Focus on aligning your polished exterior with your authentic inner power. Create space for vulnerability and genuine connection while maintaining your high standards and strategic thinking.",
                    cta_message: "Ready to align your powerful presence with authentic messaging and give yourself permission to expand? I'd love to help you reconnect with your values and create messaging that matches your real energy."
                }
            };
            
            // Get content for the specific archetype
            const content = archetypeContent[archetype] || archetypeContent["The Muse"];
            
            const templateParams = {
                to_email: userEmail,
                name: userName,
                email: userEmail,
                archetype: archetype,
                responses: quizResponses,
                // Archetype-specific content
                archetype_image: content.image,
                archetype_description: content.description,
                keywords: content.keywords,
                self_perception: content.self_perception,
                desired_perception: content.desired_perception,
                struggles: content.struggles,
                beauty_vibe: content.beauty_vibe,
                business_block: content.business_block,
                next_steps: content.next_steps,
                cta_message: content.cta_message
            };
            
            // Enhanced Debug: log everything we're sending
            console.log('=== EMAIL DEBUG INFO ===');
            console.log('Full template params:', templateParams);
            console.log('to_email (recipient):', templateParams.to_email);
            console.log('name (user name):', templateParams.name);
            console.log('archetype:', templateParams.archetype);
            console.log('Form archetype field value:', document.getElementById('form-archetype').value);
            console.log('Form responses field value:', document.getElementById('form-quiz-responses').value);
            console.log('=== END DEBUG INFO ===');
            
            // Send email using EmailJS
            emailjs.send('service_yg96yjo', 'template_m51ikq3', templateParams)
                .then(function(response) {
                    console.log('SUCCESS!', response.status, response.text);
                    submitButton.textContent = 'Thank you!';
                    submitButton.style.background = '#4caf50';
                    
                    // Reset form after 3 seconds
                    setTimeout(() => {
                        submitButton.textContent = originalText;
                        submitButton.style.background = '#607d8b';
                        submitButton.disabled = false;
                        document.getElementById('contact-form').reset();
                    }, 3000);
                }, function(error) {
                    console.log('FAILED...', error);
                    console.log('Error details:', JSON.stringify(error));
                    alert('Failed to send email. Error: ' + (error.text || error.message || 'Unknown error'));
                    submitButton.textContent = originalText;
                    submitButton.disabled = false;
                });
        });

        // Initialize page
        document.addEventListener('DOMContentLoaded', displayResults);
    </script>
</body>
</html>